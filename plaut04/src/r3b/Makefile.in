.SUFFIXES:
.SUFFIXES: .c++ .o

OBJS = readBif.o readSol.o drawCoords.o toInertialFrame.o createDisk.o \
        createPrimary.o createLibPoint.o normalizeSolData.o normalizeBifData.o\
        ../stringtrim.o \
        printToPS.o tube.o ../polygon3d.o readFM.o ../createBoundingBox.o\
        ../createCoords.o axis.o createLegend.o gmain.o ../rounding.o

CXX=@CXX@
INC=@top_srcdir@/plaut04/includes
INCLUDES=-I$(INC) @DEPS_INCLUDES@ -Wno-deprecated
CFLAGS=@CFLAGS@ -DR3B
DEPS_LIBS=@DEPS_LIBS@
LIBS=$(DEPS_LIBS)

.c++.o:
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

@top_srcdir@/bin/r3bplaut04: $(OBJS)
	$(CXX) $(CFLAGS) -o $@ $(OBJS) $(LIBS)

axis.o: ../axis.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

readFM.o: ../readFM.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

readBif.o: ../gReadBif.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

readSol.o: ../gReadSol.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

gmain.o: ../gmain.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

tube.o: ../tube.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

drawCoords.o: ../drawCoords.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

createLegend.o: ../createLegend.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

normalizeBifData.o: ../normalizeBifData.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

normalizeSolData.o: ../normalizeSolData.c++
	$(CXX) $(INCLUDES) $(CFLAGS) -c $< -o $@

clean:
	rm -f *.o

axis.o: $(INC)/axis.h
createCoords.o: $(INC)/axis.h
drawCoords.o: $(INC)/gplaut04.h
gmain.o: $(INC)/gplaut04.h $(INC)/vNames.h $(INC)/tube.h
normalizeBifData.o: $(INC)/gplaut04.h
normalizeSolData.o: $(INC)/gplaut04.h
polygon3d.o: $(INC)/polygon3d.h
readBif.o: $(INC)/gplaut04.h
readFM.o: $(INC)/gplaut04.h
readSol.o: $(INC)/gplaut04.h
toInertialFrame.o: $(INC)/gplaut04.h
tube.o: $(INC)/tube.h $(INC)/polygon3d.h
